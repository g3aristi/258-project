// Generated by CoffeeScript 1.7.1
var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

define([], function() {
  var CreditCardUtil;
  CreditCardUtil = {
    _credit_card_info_map: null,
    setCreditCardInfoMap: function(_credit_card_info_map) {
      this._credit_card_info_map = _credit_card_info_map;
    },
    getAllTypes: function() {
      var cc_info, cc_type;
      return (function() {
        var _ref, _results;
        _ref = this._credit_card_info_map;
        _results = [];
        for (cc_type in _ref) {
          cc_info = _ref[cc_type];
          _results.push(cc_type);
        }
        return _results;
      }).call(this);
    },
    getValidCardTypesForCountryCode: function(country_code) {
      var cc_info, cc_type, valid_card_types, _ref;
      valid_card_types = [];
      _ref = this._credit_card_info_map;
      for (cc_type in _ref) {
        cc_info = _ref[cc_type];
        if (__indexOf.call(cc_info['accepted_countries'], 'all') >= 0 || __indexOf.call(cc_info['accepted_countries'], country_code) >= 0) {
          valid_card_types.push(cc_type);
        }
      }
      return valid_card_types;
    },
    isValidCardTypeForCountryCode: function(card_type, country_code) {
      return __indexOf.call(this.getValidCardTypesForCountryCode(country_code), card_type) >= 0;
    },
    getNameForType: function(card_type) {
      return this._credit_card_info_map[card_type]['name'];
    }
  };
  window.CreditCardUtil = CreditCardUtil;
  return CreditCardUtil;
});

//# sourceMappingURL=credit_card_util.map

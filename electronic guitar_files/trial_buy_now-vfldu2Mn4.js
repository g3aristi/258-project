// Generated by CoffeeScript 1.7.1
define(['jquery', 'modules/clean/ajax', 'modules/clean/react/modal', 'modules/core/browser', 'modules/core/i18n'], function($j, ajax, modal, Browser, i18n) {
  var TrialBuyNow;
  TrialBuyNow = {
    showModal: function(remainingTrialDays) {
      var bodyHtml, titleText;
      titleText = i18n._('Buy Dropbox for Business now');
      bodyHtml = i18n.ungettext("You have <strong>%(days)s</strong> day remaining in your Dropbox for\nBusiness trial. Buy now to ensure that your team continues to work\nefficiently!", "You have <strong>%(days)s</strong> days remaining in your Dropbox for\nBusiness trial. Buy now to ensure that your team continues to work\nefficiently!", remainingTrialDays).format({
        days: remainingTrialDays
      });
      return modal.SimpleModal.show({
        title_text: titleText,
        body_html: bodyHtml,
        confirm_text: _('Buy now'),
        confirm_callback: TrialBuyNow._confirm,
        cancel_callback: TrialBuyNow._cancel
      });
    },
    _confirm: function() {
      return $j.ajax({
        type: 'POST',
        url: '/team/setup/trial_buy_now/dismiss',
        success: (function(_this) {
          return function(resp) {
            return Browser.redirect('/team/renew');
          };
        })(this)
      });
    },
    _cancel: function() {
      return $j.post('/team/setup/trial_buy_now/dismiss');
    }
  };
  return TrialBuyNow;
});

//# sourceMappingURL=trial_buy_now.map
